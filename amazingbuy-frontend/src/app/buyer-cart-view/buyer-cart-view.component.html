<h2>Buyer Cart View</h2>

<!--<table class="table">
  <thead class="black white-text">
    <tr>
      <th *ngFor="let head of displayedColumns" scope="col">{{head}}</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let ds of dataSource">
      <th scope="row">{{ds.productId}}</th>
      <td>{{ds.productName}}</td>
      <td>{{ds.productPrice}}</td>
      <td><button mdbBtn color="indigo" size="sm" mdbWavesEffect type="button" class="m-0">Remove</button></td>
    </tr>
  </tbody>
</table> -->


<div class="row">
  <div class="col-10">
    <table *ngIf="orders">
      <thead>
        <tr>
          <th>ID</th>
          <th>Product Name</th>
          <!-- <th>Cost</th> -->
          <th>Price</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let o of unPaidProducts">
          <td> <input type="text" readonly class="form-control" name="id" [(ngModel)]="o.id">
          </td>
          <td> <input type="text" readonly class="form-control" name="paid" [(ngModel)]="o.name">
          </td>
          <td> <input type="text" readonly class="form-control" name="shipped" [(ngModel)]="o.productPrice">
          </td>
          <!-- <td> <input type="number" readonly class="form-control" name="price" value="10.99" [(ngModel)]="price">
          </td> -->
          <td>
            <button type="button" class="btn btn-success" (click)="onRemove(o)">Remove</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <div class="col-2">
    <div>
      <h6>Total: {{totalCost}}</h6>
      <hr />
      <button type="button" class="btn btn-primary" (click)="openModal(template)">Checkout</button>

    </div>

    <ng-template #template>
      <div class="modal-header">
        <h4 class="modal-title pull-left">Checkout</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
          <span aria-hidden="true">Ã—</span>
        </button>
      </div>
      <div class="modal-body">
        <app-stripe [totalCost]=totalCost [currentOrder]=currentOrder></app-stripe>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" (click)="modalRef.hide()">Close</button>
      </div>
    </ng-template>

  </div>
</div>
